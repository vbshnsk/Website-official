<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>Digisol Website</title>
    <script src='{{ url_for("static", filename="js/three.js") }}'></script>
    <script src='{{ url_for("static", filename="js/OBJLoader.js") }}'></script>
    <script src='{{ url_for("static", filename="js/MTLLoader.js") }}'></script>

    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet">
</head>
<body>
    <script>
        // Custom global variables
        var mouse = {
            x: 0,
            y: 0
        };

        // Follows the mouse event
        function onMouseMove(event) {

            // Update the mouse variable
            event.preventDefault();
            mouse.x = (event.clientX / window.innerWidth) * 10 - 1;
            mouse.y = -(event.clientY / window.innerHeight) * 10 + 1;

            // Make the sphere follow the mouse
            var vector = new THREE.Vector3(mouse.x, mouse.y, 0.5);
            vector.unproject(camera);
            var dir = vector.sub(camera.position).normalize();
            var distance = -camera.position.z / dir.z;
            var pos = camera.position.clone().add(dir.multiplyScalar(distance));
            //mouseMesh.position.copy(pos);

            light.position.copy(pos);
        };

        // Animate the elements
        function animate() {
            requestAnimationFrame(animate);
            render();
        }

        // show fps
        javascript:(function(){var script=document.createElement('script');script.onload=function(){var stats=new Stats();document.body.appendChild(stats.dom);requestAnimationFrame(function loop(){stats.update();requestAnimationFrame(loop)});};script.src='//mrdoob.github.io/stats.js/build/stats.min.js';document.head.appendChild(script);})()
        
        // scene
        const scene = new THREE.Scene();
        scene.background = new THREE.Color( 0x131621 );

        window.addEventListener('resize', function() {
            var WIDTH = window.innerWidth,
            HEIGHT = window.innerHeight;
            renderer.setSize(WIDTH, HEIGHT);
            camera.aspect = WIDTH / HEIGHT;
            camera.updateProjectionMatrix();
        });

        // light
        const light = new THREE.DirectionalLight('#fff', 0.9);
        light.position.set(12, 30, 10);
        light.lookAt(6, -3, 0);
        scene.add(light);
        
        // camera
        const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.set(0, 0, 1.3); // Set position like this
        camera.lookAt(new THREE.Vector3(-0.05,0,1)); // Set look at coordinate like this

        // model
        const renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        // Create a circle around the mouse and move it
        // The sphere has opacity 0

        // When the mouse moves, call the given function
        document.addEventListener('mousemove', onMouseMove, false);

        function render(){
            requestAnimationFrame(render);
            renderer.render(scene, camera);
        }

        const objLoader = new THREE.OBJLoader();
        new Promise((resolve) =>{
            objLoader.load(
                '{{ url_for("static", filename="models/disk.obj") }}',
                (object) => {
                    object.position.x = -0.6;
                    object.position.y = -0.8;
                    object.position.z = -0.1;

                scene.add(object);
            })
        })

        new Promise((resolve) =>{
            objLoader.load(
                '{{ url_for("static", filename="models/disk.obj") }}',
                (object1) => {
                    object1.position.x = 0.3;
                    object1.position.y = -1.5;
                    object1.position.z = 0.1;
                    
                scene.add(object1);
            })
        })

        render();

    </script>
     <nav >
        <a href="/" id="logo">
        </a>
         <div id="menu">
                <a href="#">Our Works</a>
                <a href="#">Products</a>
                <a href="#">Contact Us</a>
         </div>
    </nav>
    <div id="title_main">
        <h1 id="digisol_header">Digisol <span>Agency</span></h1>
        <h4 id="digisol_subheader">we make <span id="shitty">shitty</span> <span id="cool">cool</span><span id="wordpress"> wordpress</span> web-sites.</h4>
        <h5 id="lm">Learn more &nbsp;
            <div id="cirme">
                <svg width="7"  viewBox="0 0 10 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M8.72608 8.57838C9.10561 8.17716 9.08803 7.54424 8.68681 7.16471L2.1486 0.979911C1.74738 0.600381 1.11446 0.617962 0.73493 1.01918C0.3554 1.4204 0.372981 2.05332 0.774199 2.43285L6.58595 7.93045L1.08835 13.7422C0.708817 14.1434 0.726398 14.7763 1.12762 15.1559C1.52883 15.5354 2.16175 15.5178 2.54128 15.1166L8.72608 8.57838ZM7.02777 8.91856L7.68751 8.90023L7.63198 6.901L6.97223 6.91933L7.02777 8.91856ZM7.68751 8.90023L8.02738 8.89079L7.97185 6.89156L7.63198 6.901L7.68751 8.90023Z" fill="#fff"/>
                </svg>
            </div>
        </h5>
    </div>
</body>
<style>
    html, body{
        margin: 0;
        font-family: 'Roboto', sans-serif;
    }

    canvas {
        width: 100vw;
        height: 100vh;
        display: block;
        position: fixed;
        z-index: -9999;
    }

    #title_main{
        padding: 22% 0 0 5%;
    }

    #digisol_header{
        font-weight: 700;
        font-size: 110px;
        color: white;
        margin: 0;
    }

    #digisol_subheader{
        font-weight: 400;
        font-size: 40px;
        color: white;
        margin: 0;
        padding-left: 5%;
    }

    #digisol_subheader #wordpress,
    #digisol_header span{
        color: #F44C82;
    }


    #digisol_subheader #shitty{
        text-decoration: line-through;
    }

    #menu{
        padding: 2% 7% 0 0;
        text-align: right;
    }

    #menu a{
        text-decoration: none;
        padding: 0 3%;
        color: white;
        font-size: 18px; 
    }

    #logo{
        float: left;
        padding: 1% 0 0 5%;
    }

    #logo svg{
        border-radius: 50%;
    }

    #lm{
        padding-left: 10%;
        color: white;
        font-size: 14px; 
        padding-left: 18%;
        text-transform: uppercase;
    }

    #lm #cirme{
        background: linear-gradient(180deg, #FDF7C3 1.56%, #E51E6E 34.37%, #BC398A 68.23%, #6969AD 98.95%, #49576D 98.96%, #49576D 98.97%), #FFFFFF;
        width: 25px;
        height: 25px;
        border-radius: 50%;
        display: inline-block;
    }

    #cirme svg{
        padding: 7px 0 0 9px;
    }
</style>
</html>
